(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{28:function(e,t,n){},31:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),s=(n(28),n(29),n(4)),i=n.n(s),u=n(9),l=n(8),j=n(5),b=(n(31),n(1));var d=function(e){var t=e.onSubmit;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e.target.elements.searchValue.value)},className:"SearchForm",children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",name:"searchValue",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};var m=function(e){var t=e.item,n=e.onClick;return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsx)("img",{"data-large":t.largeImageURL,onClick:n,src:t.webformatURL,alt:"",className:"ImageGalleryItem-image"})})};var h=function(e){var t=e.gallery,n=e.onClick;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(b.jsx)(m,{onClick:n,item:e},e.id)}))})};var f=function(e){var t=e.onClick,n=e.children;return Object(b.jsx)("button",{className:"Button",onClick:t,children:n})},O=document.querySelector("#modal-root");var p=function(e){var t=e.children,n=e.onClose;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[n]),Object(c.createPortal)(Object(b.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:"Overlay",children:Object(b.jsx)("div",{className:"Modal",children:t})}),O)},v=n(13),g=n.n(v);g.a.defaults.baseURL="https://pixabay.com/api/";var x=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("?q=".concat(t,"&page=").concat(n,"&key=").concat("22496813-a3fbe39786787c712b168fbe4","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return a=e.sent,r=a.data,e.abrupt("return",r.hits);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=n(14),w=n(23),S=n.n(w);var k=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(j.a)(c,2),s=o[0],m=o[1],O=Object(a.useState)(1),v=Object(j.a)(O,2),g=v[0],w=v[1],k=Object(a.useState)(!1),C=Object(j.a)(k,2),N=C[0],F=C[1],E=Object(a.useState)("idle"),I=Object(j.a)(E,2),L=I[0],q=I[1],B=Object(a.useState)(""),G=Object(j.a)(B,2),P=G[0],R=G[1];Object(a.useEffect)((function(){n&&Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q("pending"),R(""),e.next=5,x(n);case 5:0===(t=e.sent).length&&y.b.error("Sorry, there are no images matching your search query. Please try again.",{autoClose:3e3}),q("resolved"),m((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[n]);var U=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((function(e){return e+1})),e.next=3,x(n,g+1);case 3:t=e.sent,m((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if("pending"===L)return Object(b.jsx)("div",{className:"Container",children:Object(b.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:1e4})});var J=s.length>1;return Object(b.jsxs)("div",{className:"Container",children:[Object(b.jsx)(d,{onSubmit:function(e){m([]),r(e),w(1)}}),Object(b.jsx)(h,{onClick:function(e){F(!0),R(e.target.dataset.large)},gallery:s}),J&&Object(b.jsx)(f,{onClick:U,children:"Load more"}),N&&Object(b.jsx)(p,{src:P,onClose:function(){F(!1)},children:Object(b.jsx)("div",{style:{width:900},children:Object(b.jsx)("img",{src:P,alt:""})})}),Object(b.jsx)(y.a,{})]})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.612f53ac.chunk.js.map