{"version":3,"sources":["Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","services/gallery-api.js","App.js","services/smoothScroll.js","index.js"],"names":["SearchBar","onSubmit","className","e","preventDefault","target","elements","searchValue","value","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","item","onClick","largeImageURL","src","webformatURL","alt","ImageGallery","gallery","map","id","Button","children","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","currentTarget","axios","defaults","baseURL","fetchGallery","page","a","get","data","hits","App","useState","setSearchValue","setGallery","setPage","isModalOpen","setIsModalOpen","reqStatus","setReqStatus","largeImgUrl","setLargeImgUrl","images","length","toast","error","autoClose","console","log","handleLoadMore","prev","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","galleryLength","dataset","large","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d62ac8b4.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SearchBar({ onSubmit }) {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchValue.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSearch} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"searchValue\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        data-large={item.largeImageURL}\n        onClick={onClick}\n        src={item.webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map((item) => (\n        <ImageGalleryItem onClick={onClick} key={item.id} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\n\nfunction Button({ onClick, children }) {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ children, onClose }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") onClose();\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [onClose]);\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) onClose();\n  };\n\n  return createPortal(\n    <div onClick={handleOverlayClick} className=\"Overlay\">\n      <div className=\"Modal\">{children}</div>\n    </div>,\n\n    modalRoot\n  );\n}\n\nexport default Modal;\n","import axios from \"axios\";\n\nconst KEY = \"22496813-a3fbe39786787c712b168fbe4\";\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nexport const fetchGallery = async (value, page) => {\n  const { data } = await axios.get(\n    `?q=${value}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return data.hits;\n};\n","import { React, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport SearchBar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport { fetchGallery } from \"./services/gallery-api\";\nimport { smoothScroll } from \"./services/smoothScroll\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\nfunction App() {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [reqStatus, setReqStatus] = useState(\"idle\");\n  const [largeImgUrl, setLargeImgUrl] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchValue) return;\n\n    (async () => {\n      try {\n        setReqStatus(\"pending\");\n        setLargeImgUrl(\"\");\n\n        const images = await fetchGallery(searchValue);\n        if (images.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n        setReqStatus(\"resolved\");\n        setGallery(images);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [searchValue]);\n\n  const handleLoadMore = async () => {\n    setPage((prev) => prev + 1);\n    const images = await fetchGallery(searchValue, page + 1);\n    setGallery((prev) => [...prev, ...images]);\n    smoothScroll();\n  };\n\n  const handleSubmit = (searchValue) => {\n    setGallery([]);\n    setSearchValue(searchValue);\n    setPage(1);\n  };\n\n  const handleLargeImgUrl = (e) => {\n    setIsModalOpen(true);\n    setLargeImgUrl(e.target.dataset.large);\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(false);\n  };\n\n  if (reqStatus === \"pending\") {\n    return (\n      <div className=\"Container\">\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={10000}\n        />\n      </div>\n    );\n  }\n\n  const galleryLength = gallery.length > 1;\n  return (\n    <div className=\"Container\">\n      <SearchBar onSubmit={handleSubmit} />\n      <ImageGallery onClick={handleLargeImgUrl} gallery={gallery} />\n      {galleryLength && <Button onClick={handleLoadMore}>Load more</Button>}\n      {isModalOpen && (\n        <Modal src={largeImgUrl} onClose={toggleModal}>\n          <div style={{ width: 900 }}>\n            <img src={largeImgUrl} alt=\"\" />\n          </div>\n        </Modal>\n      )}\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","export const smoothScroll = () =>\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}