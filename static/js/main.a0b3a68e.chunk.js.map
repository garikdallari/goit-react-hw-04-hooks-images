{"version":3,"sources":["Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","services/gallery-api.js","services/smoothScroll.js","App.js","index.js"],"names":["SearchBar","onSubmit","className","e","preventDefault","target","elements","searchValue","value","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","item","onClick","largeImageURL","src","webformatURL","alt","ImageGallery","gallery","map","id","Button","children","modalRoot","document","querySelector","Modal","handleOverlayClick","currentTarget","props","onClose","handleKeyDown","code","window","addEventListener","this","removeEventListener","createPortal","Component","axios","defaults","baseURL","fetchGallery","page","a","get","data","hits","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","App","state","isModalOpen","reqStatus","largeImgUrl","handleLoadMore","images","setState","prev","handleSubmit","handleLargeImgUrl","dataset","large","toggleModal","_","prevState","length","toast","error","autoClose","console","log","galleryLength","color","height","width","timeout","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a0b3a68e.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SearchBar({ onSubmit }) {\n  const handleSearch = (e) => {\n    e.preventDefault();\n    onSubmit(e.target.elements.searchValue.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSearch} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"searchValue\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n\nfunction ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        data-large={item.largeImageURL}\n        onClick={onClick}\n        src={item.webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map((item) => (\n        <ImageGalleryItem onClick={onClick} key={item.id} item={item} />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\n\nfunction Button({ onClick, children }) {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div onClick={this.handleOverlayClick} className=\"Overlay\">\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n\n      modalRoot\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst KEY = \"22496813-a3fbe39786787c712b168fbe4\";\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nexport const fetchGallery = async (value, page) => {\n  const { data } = await axios.get(\n    `?q=${value}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return data.hits;\n};\n","export const smoothScroll = () =>\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport SearchBar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport { fetchGallery } from \"./services/gallery-api\";\nimport { smoothScroll } from \"./services/smoothScroll\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\nexport default class App extends Component {\n  state = {\n    searchValue: \"\",\n    gallery: [],\n    page: 1,\n    isModalOpen: false,\n    reqStatus: \"idle,\",\n    largeImgUrl: \"\",\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { searchValue, page } = this.state;\n    try {\n      if (prevState.searchValue !== this.state.searchValue) {\n        this.setState({\n          reqStatus: \"pending\",\n          largeImgUrl: \"\",\n        });\n        const images = await fetchGallery(searchValue, page);\n\n        if (images.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n\n        this.setState((prev) => ({\n          reqStatus: \"resolved\",\n          gallery: images,\n          page: prev.page + 1,\n        }));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleLoadMore = async () => {\n    const { searchValue, page } = this.state;\n    const images = await fetchGallery(searchValue, page);\n\n    this.setState((prev) => ({\n      gallery: [...prev.gallery, ...images],\n      page: prev.page + 1,\n    }));\n    smoothScroll();\n  };\n\n  handleSubmit = (searchValue) => {\n    this.setState({\n      searchValue,\n      page: 1,\n    });\n  };\n\n  handleLargeImgUrl = (e) => {\n    this.setState({\n      isModalOpen: true,\n      largeImgUrl: e.target.dataset.large,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { gallery, reqStatus, isModalOpen, largeImgUrl } = this.state;\n    const galleryLength = gallery.length > 1;\n\n    if (reqStatus === \"pending\") {\n      return (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={10000}\n        />\n      );\n    }\n\n    return (\n      <div className=\"Container\">\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery onClick={this.handleLargeImgUrl} gallery={gallery} />\n        {galleryLength && (\n          <Button onClick={this.handleLoadMore}>Load more</Button>\n        )}\n        {isModalOpen && (\n          <Modal src={largeImgUrl} onClose={this.toggleModal}>\n            <div style={{ width: 900 }}>\n              <img src={largeImgUrl} alt=\"\" />\n            </div>\n          </Modal>\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}